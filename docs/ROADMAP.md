# xctl 开发路线图

## ✅ 已完成（v0.1.0）

### 核心引擎
- [x] 事件驱动架构（事件总线、状态图）
- [x] IPC 通信机制（TCP 9090）
- [x] 因果图分析（WaitsOn/BlockedBy/Consumes）
- [x] AI 诊断功能（OpenAI/Claude）

### 探针系统
- [x] 子进程探针框架（SubprocessProbe）
- [x] NVIDIA NVML 探针（真实 GPU 监控）
- [x] 网络探针（基于 /proc/net）
- [x] eBPF 探针框架（参考实现）

### CLI 工具
- [x] `xctl run` - Daemon 模式
- [x] `xctl ps` - 进程列表
- [x] `xctl why <pid>` - 根因分析
- [x] `xctl zap <pid>` - 进程清理
- [x] `xctl diag <pid>` - AI 诊断

## 🚧 进行中（v0.2.0）

### 知识库系统（Phase 1）
- [ ] 知识库数据模型（SQLite）
- [ ] 知识匹配引擎
- [ ] 知识自动沉淀
- [ ] 集成到诊断流程

### 场景化分析（Phase 2）
- [ ] GPU OOM 场景分析器
- [ ] 网络阻塞场景分析器
- [ ] 进程崩溃场景分析器
- [ ] 场景自动识别

## 📋 计划中（v0.3.0+）

### 处理追踪系统
- [ ] 方案生成和执行
- [ ] 效果验证机制
- [ ] 定期复查功能
- [ ] `xctl fix` 命令

### 量化指标系统
- [ ] 指标收集和存储
- [ ] `xctl metrics` 命令
- [ ] 报表生成和导出

### IPC 演进
- [ ] Unix Domain Socket 支持
- [ ] 双协议（TCP/UDS）支持
- [ ] 权限控制增强

### 探针增强
- [ ] 完整的 eBPF 网络探针
- [ ] 存储探针（NVMe）
- [ ] 多探针并行支持

## 🎯 长期目标（v1.0.0）

### 生产就绪
- [ ] 完整的知识库系统
- [ ] 场景化分析全覆盖
- [ ] 处理追踪闭环
- [ ] 量化指标报表
- [ ] 性能优化和压力测试
- [ ] 完整的文档和示例

### 生态建设
- [ ] 探针 SDK（方便第三方开发）
- [ ] 插件系统
- [ ] 社区贡献指南
- [ ] 最佳实践文档

## 📊 优先级矩阵

| 功能 | 优先级 | 复杂度 | 预期收益 | 计划版本 |
|------|--------|--------|---------|---------|
| 知识库系统 | ⭐⭐⭐⭐⭐ | 中 | 高 | v0.2.0 |
| 场景化分析 | ⭐⭐⭐⭐ | 中 | 高 | v0.2.0 |
| 处理追踪 | ⭐⭐⭐ | 高 | 中 | v0.3.0 |
| 量化指标 | ⭐⭐⭐ | 中 | 中 | v0.3.0 |
| UDS 支持 | ⭐⭐ | 低 | 中 | v0.3.0 |
| eBPF 探针 | ⭐⭐ | 高 | 高 | v0.4.0 |

## 🔄 迭代策略

1. **保持 KISS**：每个版本只添加必要的功能
2. **向后兼容**：新功能不破坏现有 API
3. **渐进增强**：先实现核心功能，再优化和扩展
4. **用户反馈**：根据实际使用情况调整优先级
